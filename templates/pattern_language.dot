<metal:block metal:use-macro="container/dotfile_master/macros/master">
<metal:block metal:fill-slot="main">
  mclimit=8
  size="7,3"
  URL="<tal:dummy replace="this"/>"
<span tal:condition="python:1" 
      tal:define="all_patterns python:call_procedure(get_procedure('names_and_pretty_names'),
                                                     arguments=(get_class_instances('pattern')[0],
                                                               '\\n',this_kb))"
      tal:omit-tag="">
  <span tal:repeat="a_pattern all_patterns"
        tal:omit-tag="">
	<tal:dummy replace="python:a_pattern[0]"/> 
	  [label="<tal:dummy replace="python:a_pattern[1]"/>",
           URL="<tal:dummy replace="python:a_pattern[0]"/>",
           shape=plaintext];
        <span tal:repeat="a_relative python:get_slot_values(a_pattern[0],'RelatedPatterns')[0]"
              tal:omit-tag="">
          <hr tal:replace="python:a_pattern[0]"/> -> <hr tal:replace="python:a_relative"/>;
        </span>
  </span>
</span>
</metal:block>
</metal:block>
